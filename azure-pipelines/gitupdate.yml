# pipeline to build empty IP address list
# list is used to manage IP deployments to LZs


trigger: none

pool:  
  vmImage: ubuntu-latest

stages:
- stage: Init
  jobs:
  - job: TestGitpush
    steps:
    - checkout: self
      persistCredentials: true
      clean: true
    - script: |
        git config user.name "azuredevops"
        git config user.email "azure@devops"
        echo "Config update $(Build.BuildId)" > build.txt
        git add .
        git commit -m "Config update $(Build.BuildId)"
        git branch tmp01
        git checkout main
        git merge tmp01
        git push origin main
        git delete -d tmp01
        git status
      displayName: Git Commit
